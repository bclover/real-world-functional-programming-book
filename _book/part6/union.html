
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Union Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="practice_maybe_config.md" />
    
    
    <link rel="prev" href="result.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../part1/">
            
                <a href="../part1/">
            
                    
                    Part 1: Pure Functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../part1/input_output_side_effects.html">
            
                <a href="../part1/input_output_side_effects.html">
            
                    
                    Same Input, Same Output, No Side Effects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../part1/var_and_let.html">
            
                <a href="../part1/var_and_let.html">
            
                    
                    The Case for var and let
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../part1/spot_the_impurities.html">
            
                <a href="../part1/spot_the_impurities.html">
            
                    
                    Spot The Impurities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../part1/error_quest.html">
            
                <a href="../part1/error_quest.html">
            
                    
                    Error Quest!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../part1/not_allowed.html">
            
                <a href="../part1/not_allowed.html">
            
                    
                    What's Not Allowed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../part1/practice_purity.html">
            
                <a href="../part1/practice_purity.html">
            
                    
                    Practice Purity with Predicates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../part1/practice_stubs.html">
            
                <a href="../part1/practice_stubs.html">
            
                    
                    Practice Purity with Test Stubs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../part2/">
            
                <a href="../part2/">
            
                    
                    Part 2: Getting and Setting Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../part2/trouble_with_dots.html">
            
                <a href="../part2/trouble_with_dots.html">
            
                    
                    Trouble With Dots
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../part2/get.html">
            
                <a href="../part2/get.html">
            
                    
                    Get
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../part2/set.html">
            
                <a href="../part2/set.html">
            
                    
                    Set
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../part2/lenses.html">
            
                <a href="../part2/lenses.html">
            
                    
                    Lenses
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../part2/practice_big_json.md">
            
                <span>
            
                    
                    Practice get with Big JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../part2/practice_big_json.md">
            
                <span>
            
                    
                    Practice get with SOAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../part3/">
            
                <a href="../part3/">
            
                    
                    Part 3: List Comprehensions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../part3/map.html">
            
                <a href="../part3/map.html">
            
                    
                    map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../part3/filter.html">
            
                <a href="../part3/filter.html">
            
                    
                    filter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../part3/reduce.html">
            
                <a href="../part3/reduce.html">
            
                    
                    reduce
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../part3/every.html">
            
                <a href="../part3/every.html">
            
                    
                    every
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../part3/some.html">
            
                <a href="../part3/some.html">
            
                    
                    some
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../part3/zip.md">
            
                <span>
            
                    
                    zip
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../part3/practice_every.md">
            
                <span>
            
                    
                    Practice every with Predicates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../part3/practice_map.md">
            
                <span>
            
                    
                    Practice map with JSON
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../part4/">
            
                <a href="../part4/">
            
                    
                    Part 4: Curry and Partial Application
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../part4/curry.html">
            
                <a href="../part4/curry.html">
            
                    
                    All Functions Take 1 Argument
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../part4/parameter_order.html">
            
                <a href="../part4/parameter_order.html">
            
                    
                    Parameter Order
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../part4/partial_application.html">
            
                <a href="../part4/partial_application.html">
            
                    
                    Partial Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../part4/arity.html">
            
                <a href="../part4/arity.html">
            
                    
                    Arity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../part4/styles_of_curry.html">
            
                <a href="../part4/styles_of_curry.html">
            
                    
                    Styles Of Curry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../part4/lodash_fp.html">
            
                <a href="../part4/lodash_fp.html">
            
                    
                    Lodash FP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../part4/practice_curry_predicates.md">
            
                <span>
            
                    
                    Practice with Predicates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../part4/practice_">
            
                <span>
            
                    
                    Practice with Express
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../part5/">
            
                <a href="../part5/">
            
                    
                    Part 5: Composition
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../part5/passing_functions_to_functions.html">
            
                <a href="../part5/passing_functions_to_functions.html">
            
                    
                    Passing Functions to Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../part5/composing_functions.html">
            
                <a href="../part5/composing_functions.html">
            
                    
                    Composing Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../part5/tacit_programming.html">
            
                <a href="../part5/tacit_programming.html">
            
                    
                    Tacit Programming
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="./">
            
                <a href="./">
            
                    
                    Part 6: Algebraic Data Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="maybe.html">
            
                <a href="maybe.html">
            
                    
                    Maybe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="validation.html">
            
                <a href="validation.html">
            
                    
                    Validation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="result.html">
            
                <a href="result.html">
            
                    
                    Result
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.4" data-path="union.html">
            
                <a href="union.html">
            
                    
                    Union
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="practice_maybe_config.md">
            
                <span>
            
                    
                    Practice Maybe with config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="practice_validator_predicates.md">
            
                <span>
            
                    
                    Practice Validator with Predicates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="practice_result_json.md">
            
                <span>
            
                    
                    Practice Result with JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="practice_union_files.md">
            
                <span>
            
                    
                    Practice Union with reading files
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../part7/">
            
                <a href="../part7/">
            
                    
                    Part 7: Total Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../part8/README.md">
            
                <span>
            
                    
                    Part 8: Debugging
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../part8/logging_vs_purity.md">
            
                <span>
            
                    
                    Tap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../part8/logging_vs_purity.md">
            
                <span>
            
                    
                    Logging vs Purity
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../part9/README.md">
            
                <span>
            
                    
                    Part 9: Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../part10/README.md">
            
                <span>
            
                    
                    Part 10: Working With Others
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../part10/heed_the_warnings.md">
            
                <span>
            
                    
                    Heed the Warnings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../part10/imperatives.md">
            
                <span>
            
                    
                    Dealing with Imperatives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../part10/oop.md">
            
                <span>
            
                    
                    Dealing with OOP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../part10/safe_advice.md">
            
                <span>
            
                    
                    Safe Advice
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../conclusions/README.md">
            
                <span>
            
                    
                    Conclusions
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Union</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="union">Union</h1>
<p>A Union is a bunch of types in one value. You use them to represent many possible types. A String  is a scalar type; <code>&quot;cow&quot;</code> is always <code>&quot;cow&quot;</code> and completely different from <code>&quot;goat&quot;</code>. An Object is a product type; it&apos;s the combination of many types into one like <code>{ name: &apos;Dat Moo Moo&apos;, age: 2, type: &apos;&#x1F42E;&apos;, food: [&apos;hay&apos;, &apos;grass&apos;] }</code>. That <code>Object</code> contains 2 <code>String</code>s, a <code>Number</code>, and an <code>Array</code>. A Union combines those products together.</p>
<p>If you&apos;ve read this book in order, you&apos;ve already seen 3 Union types: <code>Maybe</code>, <code>Validation</code> and <code>Result</code>. A <code>Maybe</code> is either a <code>Just</code> or <code>Nothing</code>. Both are distinct types like <code>Array</code>, and they have similar methods, but represent completely different things. The <code>Maybe</code> marries the 2 into 1 type.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> union = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;folktale/adt/union/union&apos;</span>)

<span class="hljs-keyword">const</span> Maybe = union(<span class="hljs-string">&apos;Maybe&apos;</span>, {
    Just( value ) { <span class="hljs-keyword">return</span> { value } }
    Nothing() {}
})
</code></pre>
<h2 id="basic-custom-example">Basic Custom Example</h2>
<p>Below, we&apos;re searching a list of users by ID. If we find one, we want the user it found. If it didn&apos;t find one, we want a clear message saying so, and what ID we used to search for:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> { find } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;lodash/fp&apos;</span>)
<span class="hljs-keyword">const</span> { union, derivations} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;folktale/adt/union&apos;</span>)

<span class="hljs-keyword">const</span> FindUserResult = union(<span class="hljs-string">&apos;FindUserResult&apos;</span>, {
    User(user) { <span class="hljs-keyword">return</span> { user } },
    IDNotFound(userID) { <span class="hljs-keyword">return</span> { userID } }
}).derive(derivations.debugRepresentation)

<span class="hljs-keyword">const</span> { User, IDNotFound } = FindUserResult

<span class="hljs-keyword">const</span> findUserByID = (users, userID) =&gt;
    find(
        user =&gt; user.id === userID,
        users
    )

<span class="hljs-keyword">const</span> findUser = (users, userID) =&gt;
    findUserByID(users, userID)
    ? User(findUserByID(users, userID))
    : IDNotFound(userID)

<span class="hljs-keyword">const</span> users = [
    { name: <span class="hljs-string">&apos;Jesse&apos;</span>, id: <span class="hljs-number">1</span> },
    { name: <span class="hljs-string">&apos;Brandy&apos;</span>, id: <span class="hljs-number">2</span> }
]

<span class="hljs-keyword">const</span> result1 = findUser(users, <span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(result1)
<span class="hljs-comment">// FindUserResult.User({ user: { name: &quot;Brandy&quot;, id: 2 } })</span>

<span class="hljs-keyword">const</span> result2 = findUser(users, <span class="hljs-number">5</span>)
<span class="hljs-built_in">console</span>.log(result2)
<span class="hljs-comment">// FindUserResult.IDNotFound({ userID: 5 })</span>
</code></pre>
<p>Similar to <code>Maybe</code>, just more specific. Note the <code>.derive(derivations.debugRepresentation)</code> is so when we <code>console.log</code> it out, it doesn&apos;t just print as a normal looking <code>Object</code>.</p>
<h2 id="more-than-2">More Than 2</h2>
<p>However, not all sub-types have to have 2 like <code>Maybe</code>, <code>Validation</code>, <code>Result</code>, and <code>FindUserResult</code>:</p>
<p>For example, if you&apos;re using Kafka or Amazon Kinesis to build a log monitoring application, you&apos;ll often be a stream processor. You&apos;ll listen to a series of input streams, parse and aggregate the data, and then output it on another stream. Given it&apos;s from a multitude of applications, you&apos;ll be getting many different types of messages, and each one contains different information, and in turn requires a separate parsing operation.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> Message = union(<span class="hljs-string">&apos;Message&apos;</span>, {
    Log(log) { <span class="hljs-keyword">return</span> { log } },
    DatadogMetric(metric) { <span class="hljs-keyword">return</span> { metric } },
    ManualAlert(alert) { <span class="hljs-keyword">return</span> { alert } },
    NetworkInfo(source, info) { <span class="hljs-keyword">return</span> { source, info } }
})
</code></pre>
<h2 id="what-could-possibly-go-wrong">What Could Possibly Go Wrong?</h2>
<p>Union types are great for modeling errors. They help you know more clearly what went wrong, embed debug information for future you, while keeping things pure and composable.</p>
<p>For example, if you want to upload an Excel file in this application we built at work, there are a lot of things to go wrong. You wouldn&apos;t know that, though, from reading this code:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> uploadFile = request =&gt; form =&gt;
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((success, failure) =&gt;
        request.post(<span class="hljs-string">&apos;/upload&apos;</span>, {form}, (err, res, data) =&gt;
            err
            ? failure(err)
            : success(data)
    )
</code></pre>
<p>If you give it a <code>request</code> and some multi-part form data, she&apos;ll attempt to upload. If it works, great, you&apos;ll get the server response in the <code>Promise.then</code>. If it fails, you&apos;ll get an what went wrong in the <code>Promise.catch</code>. Cool right?</p>
<p>Well, no. This is an application for users who aren&apos;t always tech savvy and manage a lot of money. Any visual indication as to what went wrong can help in customer support calls and various escalations to higher level support, like the developers who wrote the code. If the developers use good error handling and the designer on the team creates a good error screen with well written copy, the developers hopefully won&apos;t ever get a support call. Additionally, any information a user might do to help fix the problem themselves can stop those calls from even happening.</p>
<p>So what can go wrong? There are known knowns, and known unknowns:</p>
<ul>
<li>your session can expire if you login and leave the web application open for 20 minutes without doing anything. Either the http status is 302, OR it&apos;s 200 but the URL is not the URL you posted too because you have a proxy in front of your API layer that makes strange decisions.</li>
<li>we can&apos;t figure out who you are from the session</li>
<li>you attempt to upload a file that isn&apos;t an Excel file</li>
<li>you attempt to upload an Excel file that has macros in it</li>
<li>you attempt to upload a virus</li>
<li>you upload more than 1 file, and the first file is fine, but the other one(s) have 1 of the problems listed above</li>
<li>the email took too long to send a successful email response or failed</li>
<li>the messaging service that lets you know the status of your file either failed or couldn&apos;t be reached in time</li>
</ul>
<p>Let&apos;s model that into a custom Union type:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> FileUploadResult = union(<span class="hljs-string">&apos;FileUploadResult&apos;</span>, {
    SessionExpired(error, httpStatusCode) { <span class="hljs-keyword">return</span> { error, httpStatusCode } },
    NotLoggedIn(error, httpStatusCode) { <span class="hljs-keyword">return</span> { error, httpStatusCode } },
    UnsupportedFileType(error, file, reason) { <span class="hljs-keyword">return</span> { error, file, reason } },
    ExcelMacros(error, file, reason) { <span class="hljs-keyword">return</span> { error, file, reason } },
    Virus(error, file, reason) { <span class="hljs-keyword">return</span> { error, file, reason } },
    EmailFailed(error, file) { <span class="hljs-keyword">return</span> { error, file } },
    MessageFailed(error) { <span class="hljs-keyword">return</span> { error} }
    Success(file) { <span class="hljs-keyword">return</span> { file } }
})
</code></pre>
<p>Notice all are errors, and many hold more information about the error, like the http status code vs. just looking around in the message String. The last one indicates a successful file upload and contains the file it uploaded.</p>
<p>Now that we have our type, we can use it to be more clear as to what went wrong or right by returning that from the <code>Promise</code>. We won&apos;t ever fail the <code>Promise</code>, though, we&apos;ll just let the caller decide, so we remove the typically success/failure, and just put resolve: </p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> uploadFile = request =&gt; form =&gt;
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(resolve =&gt;
        request.post(<span class="hljs-string">&apos;/upload&apos;</span>, {form}, (err, res, data) =&gt;
            resolve(getFileUploadResult(err, res, data))
    )
)
</code></pre>
<p>Calling it, we can build up String for each error to be clear what went wrong or right:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> uploadResult = <span class="hljs-keyword">await</span> uploadFile(<span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;request&apos;</span>))(fileForm)

uploadResult.matchWith({
    SessionExpired: ({error, httpStatusCode}) =&gt;
        <span class="hljs-string">`You&apos;ve been logged out. http code: <span class="hljs-subst">${httpStatusCode}</span>, error: <span class="hljs-subst">${error.message}</span>`</span>,
    NotLoggedIn: _ =&gt; <span class="hljs-built_in">window</span>.location.reload(<span class="hljs-literal">true</span>), <span class="hljs-comment">// let Proxy redirect to login</span>
    UnsupportedFileType: ({ error, file, reason }) =&gt;
        <span class="hljs-string">`An unsupported file type was uploaded. We only support Excel files with no macros.
file: <span class="hljs-subst">${file}</span>`</span>,
    ExcelMacros: ({ file }) =&gt;
        <span class="hljs-string">`The Excel file you uploaded contained macros. Please remove them and Save As to create a new Excel with the macros removed.
File: <span class="hljs-subst">${file}</span>`</span>,
    Virus: ({ file }) =&gt;
        <span class="hljs-string">`The Excel file you uploaded was identified as a virus.
virus file: <span class="hljs-subst">${file}</span>`</span>,
    EmailFailed: ({ error }) =&gt;
        <span class="hljs-string">`We failed to email your file successful. Error received: <span class="hljs-subst">${error}</span>`</span>,
    MessageFailed: _ =&gt;
        <span class="hljs-string">`We emailed your file successfully, but failed to send a confirmation message. Please manually check your inbox.`</span>,
    Success: ({ file }) =&gt;
        <span class="hljs-string">`Successfully uploaded and emailed your file: <span class="hljs-subst">${file}</span>`</span>
})
</code></pre>
<h2 id="did-it-work-or-not">Did it Work or Not?</h2>
<p>If you just want to know if it worked or not, you can simply return a <code>Boolean</code>. The <code>stubTrue</code> and <code>stubFalse</code> functions from lodash &amp; lodash/fp are functions that always return true <code>() =&gt; true</code>, and always return false <code>() =&gt; false</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> { stubTrue, stubFalse } = 
<span class="hljs-keyword">const</span> didUploadWork = result =&gt; result.matchWith({
    SessionExpired: stubFalse,
    NotLoggedIn: stubFalse,
    UnsupportedFileType: stubFalse,
    ExcelMacros: stubFalse,
    Virus: stubFalse,
    EmailFailed: stubFalse,
    MessageFailed: stubFalse,
    Success: stubTrue
})

<span class="hljs-built_in">console</span>.log(didUploadWork(Success(<span class="hljs-string">&apos;some file&apos;</span>))) <span class="hljs-comment">// true</span>
<span class="hljs-built_in">console</span>.log(didUploadWork(NotLoggedIn(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;boom&apos;</span>, <span class="hljs-number">400</span>)))) <span class="hljs-comment">// false</span>
</code></pre>
<h2 id="conclusions">Conclusions</h2>
<p>Union types are great for modeling errors, or when you have multiple return types. They can represent data or <code>null</code> more specifically than a simple <code>Maybe</code>, and give you more insight into what we wrong than a simple <code>Result.Error</code>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="result.html" class="navigation navigation-prev " aria-label="Previous page: Result">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="practice_maybe_config.md" class="navigation navigation-next " aria-label="Next page: Practice Maybe with config">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Union","level":"1.7.4","depth":2,"next":{"title":"Practice Maybe with config","level":"1.7.5","depth":2,"path":"part6/practice_maybe_config.md","ref":"part6/practice_maybe_config.md","articles":[]},"previous":{"title":"Result","level":"1.7.3","depth":2,"path":"part6/result.md","ref":"part6/result.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"part6/union.md","mtime":"2018-08-29T17:09:49.860Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-08-31T13:34:28.886Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

